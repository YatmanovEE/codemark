{"version":3,"sources":["components/Search/Search.slice.ts","redux/hooks.ts","components/Notice/Notice.slice.ts","components/Notice/Notice.tsx","components/ShowCase/ShowCase.slice.ts","components/Nav/Nav.slice.ts","components/ShowCase/showCaseApi.ts","components/Nav/Nav.tsx","components/Search/Search.tsx","components/ShowCase/ShowCaseList.tsx","components/ShowCase/ShowCase.tsx","App.tsx","redux/store.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","timeoutNotes","notes","dispatch","addNotes","setTimeout","clearNotes","noticeSlice","createSlice","name","initialState","reducers","state","action","payload","selectNote","notice","actions","Notice","note","ref","useRef","CSSTransition","unmountOnExit","in","timeout","classNames","nodeRef","className","searchSlice","value","disabled","error","setValue","clearValue","createError","clearError","searchSelectors","searchValue","fetchShowCase","createAsyncThunk","thunkApi","a","url","fetch","response","status","rejectWithValue","message","json","data","fixed_height_downsampled_url","showCaseSlice","showCaseList","loading","updateLoading","clearShowCaseList","extraReducers","builder","addCase","fulfilled","getter","push","photoSrc","date","Date","now","pending","rejected","showCaseSelectors","showCase","navSlice","selector","switchSelector","navSelectors","nav","API","fetchTag","Nav","useState","timerActive","setTimerActive","useEffect","timer","setInterval","clearInterval","selectSelector","onClick","Search","rootState","match","type","onChange","e","currentTarget","length","split","forEach","tagName","count","sortObj","arr","list","i","sort","b","ShowCaseList","selectShowCaseList","keysList","Object","keys","values","map","itemImage","keyItemImage","src","alt","keysListItem","keyShowCase","ShowCase","selectLoading","App","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3dd465bf.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"../../redux/store\";\r\nimport ISearch from \"./interfaces\";\r\n\r\nconst initialState: ISearch.IState = {\r\n\tvalue: \"\",\r\n\tdisabled: true,\r\n\terror: \"\",\r\n};\r\n\r\nconst searchSlice = createSlice({\r\n\tname: \"search\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\tsetValue(state, action: PayloadAction<Pick<ISearch.IState, \"value\">>) {\r\n\t\t\tstate.value = action.payload.value;\r\n\t\t},\r\n\t\tclearValue(state) {\r\n\t\t\tstate.value = \"\";\r\n\t\t},\r\n\t\tcreateError(state, action: PayloadAction<Pick<ISearch.IState, \"error\">>) {\r\n\t\t\tstate.error = action.payload.error;\r\n\t\t\tstate.disabled = true;\r\n\t\t},\r\n\t\tclearError(state) {\r\n\t\t\tstate.error = \"\";\r\n\t\t\tstate.disabled = false;\r\n\t\t},\r\n\t},\r\n});\r\nexport namespace searchSelectors {\r\n\texport const selectValue = (state: RootState) => state.searchValue.value;\r\n\texport const selectError = (state: RootState) => state.searchValue.error;\r\n}\r\n\r\nexport const { setValue, clearValue, createError, clearError } =\r\n\tsearchSlice.actions;\r\n\r\nexport default searchSlice.reducer;\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport type { RootState, AppDispatch } from \"./store\";\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"../../redux/store\";\r\nimport INotice from \"./interfaces\";\r\n\r\nconst initialState: INotice.IState = {\r\n\tnotes: \"\",\r\n};\r\n\r\nexport const timeoutNotes = ({ notes }: INotice.IState) => {\r\n\treturn (dispatch: any) => {\r\n\t\tdispatch(\r\n\t\t\taddNotes({\r\n\t\t\t\tnotes,\r\n\t\t\t})\r\n\t\t);\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(clearNotes());\r\n\t\t}, 2000);\r\n\t};\r\n};\r\n\r\nconst noticeSlice = createSlice({\r\n\tname: \"Notice\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\tclearNotes(state) {\r\n\t\t\tstate.notes = \"\";\r\n\t\t},\r\n\t\taddNotes(state, action: PayloadAction<INotice.IState>) {\r\n\t\t\tstate.notes = action.payload.notes;\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const selectNote = (state: RootState) => state.notice.notes;\r\nexport const { clearNotes, addNotes } = noticeSlice.actions;\r\n\r\nexport default noticeSlice.reducer;\r\n","import { FC, useRef } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { useAppSelector } from \"../../redux/hooks\";\r\nimport { selectNote } from \"./Notice.slice\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport \"./Notice.style.css\";\r\nexport const Notice: FC = () => {\r\n\tconst note = useAppSelector(selectNote);\r\n\tconst ref = useRef(null);\r\n\r\n\treturn (\r\n\t\t<CSSTransition\r\n\t\t\tunmountOnExit\r\n\t\t\tin={!!note}\r\n\t\t\ttimeout={200}\r\n\t\t\tclassNames=\"notice_wrapper\"\r\n\t\t\tnodeRef={ref}\r\n\t\t>\r\n\t\t\t<div className=\"wrapper notice_wrapper\" ref={ref}>\r\n\t\t\t\t<span>{note}</span>\r\n\t\t\t</div>\r\n\t\t</CSSTransition>\r\n\t);\r\n};\r\n","import { timeoutNotes } from \"./../Notice/Notice.slice\";\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"../../redux/store\";\r\nimport { addNotes } from \"../Notice/Notice.slice\";\r\nimport IShowCase from \"./interfaces\";\r\n\r\nconst initialState: IShowCase.IState = {\r\n\tshowCaseList: {},\r\n\tloading: false,\r\n};\r\n\r\nexport const fetchShowCase = createAsyncThunk(\r\n\t\"ShowCase/fetchShowCase\",\r\n\tasync ({ url, name }: IShowCase.IFetchProps, thunkApi) => {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url);\r\n\t\t\tif (response.status !== 200) {\r\n\t\t\t\tthunkApi.dispatch(\r\n\t\t\t\t\ttimeoutNotes({ notes: `Сервер ответил ошибкой: ${response.status}` })\r\n\t\t\t\t);\r\n\t\t\t\treturn thunkApi.rejectWithValue({\r\n\t\t\t\t\tmessage: response.status,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst json = await response.json();\r\n\t\t\tconst data: string = json.data.fixed_height_downsampled_url;\r\n\t\t\treturn { data, name };\r\n\t\t} catch (e) {\r\n\t\t\tthunkApi.dispatch(timeoutNotes({ notes: `Произошла ошибка на сервере` }));\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n);\r\n\r\nconst showCaseSlice = createSlice({\r\n\tname: \"ShowCase\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\tupdateLoading(state) {\r\n\t\t\tstate.loading = !state.loading;\r\n\t\t},\r\n\t\tclearShowCaseList(state) {\r\n\t\t\tstate.showCaseList = {};\r\n\t\t},\r\n\t},\r\n\textraReducers: (builder) => {\r\n\t\tbuilder.addCase(fetchShowCase.fulfilled, (state, action) => {\r\n\t\t\tstate.loading = false;\r\n\t\t\tlet getter = state.showCaseList[action.payload.name] ?? [];\r\n\t\t\tgetter.push({\r\n\t\t\t\tphotoSrc: action.payload.data,\r\n\t\t\t\tdate: Date.now(),\r\n\t\t\t\tname: action.payload.name,\r\n\t\t\t});\r\n\t\t\tstate.showCaseList[action.payload.name] = getter;\r\n\t\t});\r\n\t\tbuilder.addCase(fetchShowCase.pending, (state) => {\r\n\t\t\tstate.loading = true;\r\n\t\t});\r\n\t\tbuilder.addCase(fetchShowCase.rejected, (state) => {\r\n\t\t\tstate.loading = false;\r\n\t\t});\r\n\t},\r\n});\r\n\r\nexport namespace showCaseSelectors {\r\n\texport const selectLoading = (state: RootState) => state.showCase.loading;\r\n\texport const selectShowCaseList = (state: RootState) =>\r\n\t\tstate.showCase.showCaseList;\r\n}\r\n\r\nexport const { updateLoading, clearShowCaseList } = showCaseSlice.actions;\r\n\r\nexport default showCaseSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"../../redux/store\";\r\nimport INav from \"./interface\";\r\n\r\nconst initialState: INav.IState = {\r\n\tselector: false,\r\n};\r\n\r\nconst navSlice = createSlice({\r\n\tname: \"Nav\",\r\n\tinitialState,\r\n\treducers: {\r\n\t\tswitchSelector(state) {\r\n\t\t\tstate.selector = !state.selector;\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport namespace navSelectors {\r\n\texport const selectSelector = (state: RootState) => state.nav.selector;\r\n}\r\n\r\nexport const { switchSelector } = navSlice.actions;\r\n\r\nexport default navSlice.reducer;\r\n","const API = {\r\n\tfetchTag:\r\n\t\t\"https://api.giphy.com/v1/gifs/random?api_key=lSnIkZHr8odpiZjOQLVvJRrbmME8jytG\",\r\n};\r\n\r\nexport default API;\r\n","import { FC, useEffect, useState } from \"react\";\r\nimport { timeoutNotes } from \"../Notice/Notice.slice\";\r\nimport { clearValue } from \"../Search/Search.slice\";\r\nimport { clearShowCaseList, fetchShowCase } from \"../ShowCase/ShowCase.slice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\r\nimport { navSelectors, switchSelector } from \"./Nav.slice\";\r\nimport API from \"../ShowCase/showCaseApi\";\r\n\r\nexport const Nav: FC = () => {\r\n\tconst dispatch = useAppDispatch();\r\n\tconst [timerActive, setTimerActive] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet timer = setInterval(() => {\r\n\t\t\tdispatch(\r\n\t\t\t\tfetchShowCase({\r\n\t\t\t\t\tname: \"random\",\r\n\t\t\t\t\turl: `${API.fetchTag}&tag=random`,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}, 500);\r\n\t\tif (!timerActive) clearInterval(timer);\r\n\t\treturn () => {\r\n\t\t\tclearInterval(timer);\r\n\t\t};\r\n\t}, [dispatch, timerActive]);\r\n\r\n\tconst selector = useAppSelector(navSelectors.selectSelector);\r\n\treturn (\r\n\t\t<div className=\"wrapper nav_wrapper\">\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn btn_showCase btn__secondary\"\r\n\t\t\t\tonClick={() => dispatch(switchSelector())}\r\n\t\t\t>\r\n\t\t\t\t{selector ? \"Группировать\" : \"Разгрупировать\"}\r\n\t\t\t</button>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn btn_showCase btn__secondary\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tdispatch(clearValue());\r\n\t\t\t\t\tdispatch(clearShowCaseList());\r\n\t\t\t\t\tdispatch(timeoutNotes({ notes: \"Список очищен\" }));\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tОчистить\r\n\t\t\t</button>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn btn_showCase btn__secondary\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetTimerActive(!timerActive);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tdelay\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { FC, ReactEventHandler, useEffect } from \"react\";\r\nimport { useAppDispatch } from \"../../redux/hooks\";\r\nimport { fetchShowCase } from \"../ShowCase/ShowCase.slice\";\r\nimport { setValue, clearError, createError } from \"./Search.slice\";\r\nimport API from \"../ShowCase/showCaseApi\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../redux/store\";\r\nimport \"./Search.style.css\";\r\n\r\nexport const Search: FC = () => {\r\n\tconst { error, value, disabled } = useSelector((rootState: RootState) => {\r\n\t\treturn rootState.searchValue;\r\n\t});\r\n\r\n\tconst dispatch = useAppDispatch();\r\n\tconst inputHandler: ReactEventHandler<HTMLInputElement> = (e) => {\r\n\t\tdispatch(setValue({ value: e.currentTarget.value }));\r\n\t\tif (e.currentTarget.value.length === 0) {\r\n\t\t\tdispatch(\r\n\t\t\t\tcreateError({\r\n\t\t\t\t\terror: \"Пустая строка\",\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (value.match(/[^A-Za-z,]/)) {\r\n\t\t\tdispatch(\r\n\t\t\t\tcreateError({\r\n\t\t\t\t\terror: \"Допустимы только английские буквы и запятая\",\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else if (value === \",\") {\r\n\t\t\tdispatch(\r\n\t\t\t\tcreateError({\r\n\t\t\t\t\terror: \"Нельзя отправлять только запятую\",\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else dispatch(clearError());\r\n\t}, [dispatch, value]);\r\n\r\n\tconst searchHandler: ReactEventHandler<HTMLButtonElement> = (e) => {\r\n\t\tvalue.split(\",\").forEach((tagName, count) => {\r\n\t\t\tdispatch(\r\n\t\t\t\tfetchShowCase({\r\n\t\t\t\t\tname: tagName,\r\n\t\t\t\t\turl: `${API.fetchTag}&tag=${tagName}`,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"search\">\r\n\t\t\t<div className=\"wrapper search_wrapper\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tclassName={`search_input input ${error && \"input__error\"}`}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={inputHandler}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<span className=\"error search_error\">{error}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"btn search_btn btn__primary\"\r\n\t\t\t\tonClick={searchHandler}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t>\r\n\t\t\t\tПоиск\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { FC } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\r\nimport { navSelectors } from \"../Nav/Nav.slice\";\r\nimport { setValue } from \"../Search/Search.slice\";\r\nimport { showCaseSelectors } from \"./ShowCase.slice\";\r\nimport \"./ShowCaseList.style.css\";\r\n\r\ntype ISortObj<T> = (arr: T[][]) => T[];\r\n\r\nconst sortObj: ISortObj<{ date: number; photoSrc: string; name: string }> = (\r\n\tarr\r\n) => {\r\n\tlet list: { date: number; photoSrc: string; name: string }[] = [];\r\n\tfor (let i = 0; i < arr.length; i++) {\r\n\t\tlist.push(...arr[i]);\r\n\t}\r\n\treturn list.sort((a, b) => a.date - b.date);\r\n};\r\n\r\nexport const ShowCaseList: FC = () => {\r\n\tconst showCase = useAppSelector(showCaseSelectors.selectShowCaseList);\r\n\tconst selector = useAppSelector(navSelectors.selectSelector);\r\n\tconst dispatch = useAppDispatch();\r\n\tconst keysList = Object.keys(showCase);\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t{keysList.length > 0 ? (\r\n\t\t\t\tselector ? (\r\n\t\t\t\t\tsortObj(Object.values(showCase)).map((itemImage, keyItemImage) => (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\tsetValue({\r\n\t\t\t\t\t\t\t\t\t\tvalue: itemImage.name,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsrc={itemImage.photoSrc}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\tkey={itemImage.date + keyItemImage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))\r\n\t\t\t\t) : (\r\n\t\t\t\t\tkeysList.map((keysListItem, keyShowCase) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={keyShowCase + keysListItem}>\r\n\t\t\t\t\t\t\t\t<h4>{keysListItem}</h4>\r\n\t\t\t\t\t\t\t\t<div className=\"wrapper showCaseList_wrapper\">\r\n\t\t\t\t\t\t\t\t\t{showCase[keysListItem].map((itemImage, keyItemImage) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: itemImage.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={itemImage.photoSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={itemImage.date + keyItemImage}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t) : (\r\n\t\t\t\t<span>Список пуст</span>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { FC } from \"react\";\r\nimport { useAppSelector } from \"../../redux/hooks\";\r\nimport { Nav } from \"../Nav/Nav\";\r\nimport { Search } from \"../Search/Search\";\r\nimport { showCaseSelectors } from \"./ShowCase.slice\";\r\nimport { ShowCaseList } from \"./ShowCaseList\";\r\nimport \"./ShowCase.style.css\";\r\n\r\nconst ShowCase: FC = () => {\r\n\tconst loading = useAppSelector(showCaseSelectors.selectLoading);\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div className=\"flex\">\r\n\t\t\t\t<Nav />\r\n\t\t\t\t<Search />\r\n\t\t\t</div>\r\n\t\t\t<ShowCaseList />\r\n\t\t\t<div className=\"loader\">\r\n\t\t\t\t{loading && (\r\n\t\t\t\t\t<div className=\"lds-circle\">\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ShowCase;\r\n","import { Notice } from \"./components/Notice/Notice\";\nimport ShowCase from \"./components/ShowCase/ShowCase\";\n\nfunction App() {\n\treturn (\n\t\t<>\n\t\t\t<Notice />\n\t\t\t<ShowCase />\n\t\t</>\n\t);\n}\n\nexport default App;\n","import { configureStore, ThunkAction, Action } from \"@reduxjs/toolkit\";\r\nimport showCase from \"../components/ShowCase/ShowCase.slice\";\r\nimport notice from \"../components/Notice/Notice.slice\";\r\nimport searchValue from \"../components/Search/Search.slice\";\r\nimport nav from \"../components/Nav/Nav.slice\";\r\n\r\nexport const store = configureStore({\r\n\treducer: {\r\n\t\tshowCase,\r\n\t\tnotice,\r\n\t\tsearchValue,\r\n\t\tnav,\r\n\t},\r\n});\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n\tReturnType,\r\n\tRootState,\r\n\tunknown,\r\n\tAction<string>\r\n>;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport { store } from \"./redux/store\";\nimport \"./index.style.css\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}