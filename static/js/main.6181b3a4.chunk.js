(this.webpackJsonpcodemark=this.webpackJsonpcodemark||[]).push([[0],{25:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),s=n.n(c),o=n(5),i=n.n(o),u=n(6),l=function(){return Object(u.b)()},d=u.c,j=n(3),h=function(e){var t=e.notes;return function(e){e(v({notes:t})),setTimeout((function(){e(m())}),2e3)}},b=Object(j.c)({name:"Notice",initialState:{notes:""},reducers:{clearNotes:function(e){e.notes=""},addNotes:function(e,t){e.notes=t.payload.notes}}}),f=function(e){return e.notice.notes},p=b.actions,m=p.clearNotes,v=p.addNotes,O=b.reducer,x=n(34),w=(n(25),n(1)),g=function(){var e=d(f),t=Object(c.useRef)(null);return Object(w.jsx)(x.a,{unmountOnExit:!0,in:!!e,timeout:200,classNames:"notice_wrapper",nodeRef:t,children:Object(w.jsx)("div",{className:"wrapper notice_wrapper",ref:t,children:Object(w.jsx)("span",{children:e})})})},C=n(15),N=Object(j.c)({name:"search",initialState:{value:"",disabled:!0,error:""},reducers:{setValue:function(e,t){e.value=t.payload.value},clearValue:function(e){e.value=""},createError:function(e,t){e.error=t.payload.error,e.disabled=!0},clearError:function(e){e.error="",e.disabled=!1}}});(r=a||(a={})).selectValue=function(e){return e.searchValue.value},r.selectError=function(e){return e.searchValue.error};var _,S,y=N.actions,k=y.setValue,L=y.clearValue,E=y.createError,V=y.clearError,I=N.reducer,T=n(13),R=n.n(T),J=n(14),Z=Object(j.b)("ShowCase/fetchShowCase",function(){var e=Object(J.a)(R.a.mark((function e(t,n){var a,r,c,s,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,r=t.name,e.prev=1,e.next=4,fetch(a);case 4:if(200===(c=e.sent).status){e.next=8;break}return n.dispatch(h({notes:"\u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0442\u0432\u0435\u0442\u0438\u043b \u043e\u0448\u0438\u0431\u043a\u043e\u0439: ".concat(c.status)})),e.abrupt("return",n.rejectWithValue({message:c.status}));case 8:return e.next=10,c.json();case 10:return s=e.sent,o=s.data.fixed_height_downsampled_url,e.abrupt("return",{data:o,name:r});case 15:throw e.prev=15,e.t0=e.catch(1),n.dispatch(h({notes:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435"})),e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}()),M=Object(j.c)({name:"ShowCase",initialState:{showCaseList:{},loading:!1},reducers:{updateLoading:function(e){e.loading=!e.loading},clearShowCaseList:function(e){e.showCaseList={}}},extraReducers:function(e){e.addCase(Z.fulfilled,(function(e,t){var n;e.loading=!1;var a=null!==(n=e.showCaseList[t.payload.name])&&void 0!==n?n:[];a.push({photoSrc:t.payload.data,date:Date.now(),name:t.payload.name}),e.showCaseList[t.payload.name]=a})),e.addCase(Z.pending,(function(e){e.loading=!0})),e.addCase(Z.rejected,(function(e){e.loading=!1}))}});(S=_||(_={})).selectLoading=function(e){return e.showCase.loading},S.selectShowCaseList=function(e){return e.showCase.showCaseList};var z,A=M.actions,B=(A.updateLoading,A.clearShowCaseList),D=M.reducer,F=Object(j.c)({name:"Nav",initialState:{selector:!1},reducers:{switchSelector:function(e){e.selector=!e.selector}}});(z||(z={})).selectSelector=function(e){return e.nav.selector};var G=F.actions.switchSelector,H=F.reducer,Q={fetchTag:"https://api.giphy.com/v1/gifs/random?api_key=lSnIkZHr8odpiZjOQLVvJRrbmME8jytG"},W=function(){var e=l(),t=Object(c.useState)(!1),n=Object(C.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){var t=setInterval((function(){e(Z({name:"random",url:"".concat(Q.fetchTag,"&tag=random")}))}),500);return a||clearInterval(t),function(){clearInterval(t)}}),[e,a]);var s=d(z.selectSelector);return Object(w.jsxs)("div",{className:"wrapper nav_wrapper",children:[Object(w.jsx)("button",{className:"btn btn_showCase btn__secondary",onClick:function(){return e(G())},children:s?"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0420\u0430\u0437\u0433\u0440\u0443\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(w.jsx)("button",{className:"btn btn_showCase btn__secondary",onClick:function(){e(L()),e(B()),e(h({notes:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0447\u0438\u0449\u0435\u043d"}))},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(w.jsx)("button",{className:"btn btn_showCase btn__secondary",onClick:function(){r(!a)},children:"delay"})]})},q=(n(28),function(){var e=Object(u.c)((function(e){return e.searchValue})),t=e.error,n=e.value,a=e.disabled,r=l();Object(c.useEffect)((function(){n.match(/[^A-Za-z,]/)?r(E({error:"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0438 \u0437\u0430\u043f\u044f\u0442\u0430\u044f"})):","===n?r(E({error:"\u041d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u043f\u044f\u0442\u0443\u044e"})):0===n.length?r(E({error:"\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430"})):r(V())}),[r,n]);return Object(w.jsxs)("div",{className:"search",children:[Object(w.jsxs)("div",{className:"wrapper search_wrapper",children:[Object(w.jsx)("input",{type:"text",className:"search_input input ".concat(t&&"input__error"),value:n,onChange:function(e){r(k({value:e.currentTarget.value}))}}),Object(w.jsx)("div",{className:"",children:Object(w.jsx)("span",{className:"error search_error",children:t})})]}),Object(w.jsx)("button",{className:"btn search_btn btn__primary",onClick:function(e){n.split(",").forEach((function(e,t){r(Z({name:e,url:"".concat(Q.fetchTag,"&tag=").concat(e)}))}))},disabled:a,children:"\u041f\u043e\u0438\u0441\u043a"})]})}),K=n(16),P=(n(29),function(e){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,Object(K.a)(e[n]));return t.sort((function(e,t){return e.date-t.date}))}),U=function(){var e=d(_.selectShowCaseList),t=d(z.selectSelector),n=l(),a=Object.keys(e);return Object(w.jsx)("div",{className:"container",children:a.length>0?t?P(Object.values(e)).map((function(e,t){return Object(w.jsx)("img",{onClick:function(){return n(k({value:e.name}))},src:e.photoSrc,alt:""},e.date+t)})):a.map((function(t,a){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h4",{children:t}),Object(w.jsx)("div",{className:"wrapper showCaseList_wrapper",children:e[t].map((function(e,t){return Object(w.jsx)("img",{className:"btn",onClick:function(){return n(k({value:e.name}))},src:e.photoSrc,alt:""},e.date+t)}))})]},a+t)})):Object(w.jsx)("span",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442"})})},X=(n(30),function(){var e=d(_.selectLoading);return Object(w.jsxs)("div",{className:"container",children:[Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)(W,{}),Object(w.jsx)(q,{})]}),Object(w.jsx)(U,{}),Object(w.jsx)("div",{className:"loader",children:e&&Object(w.jsx)("div",{className:"lds-circle",children:Object(w.jsx)("div",{})})})]})});var Y=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(g,{}),Object(w.jsx)(X,{})]})},$=Object(j.a)({reducer:{showCase:D,notice:O,searchValue:I,nav:H}});n(31);i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(u.a,{store:$,children:Object(w.jsx)(Y,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.6181b3a4.chunk.js.map